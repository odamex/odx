<div class="title-bar">
  <div class="title-drag-area">
    <img src="icon.png" alt="ODX" class="title-icon" />
    <span class="title-text">{{ appTitle() }}</span>
  </div>
  <div class="status-indicators">
    <div class="controller-status" 
         [class.connected]="controllerConnected()"
         [title]="controllerConnected() ? (controllerName() || 'Controller') + ' (' + controllerSchema() + ')' : 'No controller'">
      <ng-icon name="bootstrapController" />
    </div>
    <div class="network-status" [class.offline]="!isOnline()" [title]="isOnline() ? 'Online' : 'Offline'">
      <ng-icon [name]="isOnline() ? 'bootstrapWifi' : 'bootstrapWifiOff'" />
    </div>
    <div class="service-status" 
         [class.online]="connectionStatus() === 'online'"
         [class.degraded]="connectionStatus() === 'degraded'"
         [class.offline]="connectionStatus() === 'offline'"
         [title]="connectionStatus() === 'online' ? 'Services Available' : connectionStatus() === 'degraded' ? 'Services Degraded' : 'Services Offline'">
      <ng-icon name="bootstrapCircleFill" />
    </div>
  </div>
  @if (showWindowControls()) {
    <div class="window-controls">
      <button 
        type="button"
        class="window-control-btn minimize"
        (click)="onMinimize()"
        tabindex="-1"
        title="Minimize">
        <ng-icon name="bootstrapDash" />
      </button>
      <button 
        type="button"
        class="window-control-btn maximize"
        (click)="onMaximize()"
        tabindex="-1"
        title="Maximize">
        <ng-icon name="bootstrapSquare" />
      </button>
      <button 
        type="button"
        class="window-control-btn close"
        (click)="onClose()"
        tabindex="-1"
        title="Close">
        <ng-icon name="bootstrapX" />
      </button>
    </div>
  }
</div>
